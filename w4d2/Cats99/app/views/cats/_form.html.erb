<% action_url = @cat.persisted? ? cat_url(@cat) : cats_url %>
<% method = @cat.persisted? ? "PATCH" : "POST" %>
<% submit_text = @cat.persisted? ? "Update Cat!" : "Create Cat!" %>

<form action="<%= action_url %>" method="POST">
  <input type="hidden" name="_method" value=<%= method %>>

  <label for="cat_name">Name</label>
  <input name="cat[name]" id="cat_name" type="text" value="<%= @cat.name %>">
  <br>

  <label for="cat_birth_date">Birthday</label>
  <input name="cat[birth_date]"
          id="cat_birth_date"
          type="date"
          value="<%= @cat.birth_date %>">
  <br>

  <label for="cat_color">Color</label>
  <select name="cat[color]">
    <% ["grey", "black", "white", "calico"].each do |color| %>
      <% if @cat.color == color %>
        <option value="<%= color%>" selected><%= color.capitalize%></option>
      <% else %>
        <option value="<%= color%>"><%= color.capitalize%></option>
      <% end %>
    <% end %>
  </select>
  <br>

  <label>Sex</label>
  <div>
    <% if @cat.sex == "M" %>
      <input name="cat[sex]" id="cat_sex_m" type="radio" value="M" checked >
      <label for="cat_sex_m">Male</label>
      <input name="cat[sex]" id="cat_sex_f" type="radio" value="F">
      <label for="cat_sex_f">Female</label>
    <% elsif @cat.sex == "F" %>
      <input name="cat[sex]" id="cat_sex_m" type="radio" value="M">
      <label for="cat_sex_m">Male</label>
      <input name="cat[sex]" id="cat_sex_f" type="radio" value="F" checked>
      <label for="cat_sex_f">Female</label>
    <% else %>
      <input name="cat[sex]" id="cat_sex_m" type="radio" value="M">
      <label for="cat_sex_m">Male</label>
      <input name="cat[sex]" id="cat_sex_f" type="radio" value="F">
      <label for="cat_sex_f">Female</label>
    <% end %>
  </div>
  <br>

  <label for="cat_description">Description</label>
  <textarea name="cat[description]" id="cat_description"><%= @cat.description %></textarea>
  <br>

  <input type="submit" value="<%= submit_text %>">
</form>
